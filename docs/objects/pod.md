# Kubernetes Pod object

[Kubernetes Documentation/Concepts/Workloads/Pods](https://kubernetes.io/docs/concepts/workloads/pods/)

## Presentation

A **Pod** consists of one or more containers (containers are not managed individually). Inside a Pod we have the same IP address, same access to storage and same namespace. It is the smallest unit we can work with.

### Multi-Container Pod

While Pods are often deployed with one application container in each, it may be interesting to have an additional container in a Pod.

Secondary container type | Usecase
------------------------ | -------
**Ambassador** | Communicate with outside resources, often outside the cluster. Using a proxy, like Envoy or other, you can embed a proxy instead of using one provided by the cluster. It is helpful if you are unsure of the cluster configuration.
**Adapter** | Modify the data generated by the primary container. In some cases, you may need to modify a datastream for proper use.
**Sidecar** | Help or provide a service not found in the primary application. Logging containers are a common sidecar.

## Command line examples

```bash
# create and run a particular image in a pod
kubectl run nginx-demo --image=nginx:1.16

# get all pods of the current namespace
kubectl get pods

# add a label to a specific pod
kubectl label pods xxxxx-yyyy experimental=true

# get all pods of the current namespace with a given label
kubectl get pods -l experimental=true
```

_Since 1.18, kubectl run is only used to create pods._

## Manifest examples

- Nginx container

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: nginx-demo
spec:
  containers:
    - name: nginx
      image: nginx:1.14.2
      ports:
        - containerPort: 80
```

- Busybox container

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: nginx-demo
spec:
  containers:
    - name: hello
      image: busybox
      command: ['sh', '-c', 'echo "Hello, Kubernetes!" && sleep 3600']
  restartPolicy: OnFailure
```
